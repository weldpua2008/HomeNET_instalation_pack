<html>
<head>
<title>Справка IP-TV Player</title>
<link rel="shortcut icon" href="res/mainicon.ico">
<meta http-equiv="X-UA-Compatible" content="IE=7">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="Pragma" content="no-cache">
<style type="text/css">
BODY	{background:#ffffff;color:#000000;font-size:8pt;font-family:tahoma,arial,sans-serif;line-height:1.3;margin:0px;}
PRE	{border:1px solid silver;padding:10px;margin:0px;margin-left:10px;width:470px;overflow:auto;text-align:left;font-family:"Lucida Console", "Courier New", monospace;background:#ededed;line-height:1.0;}
PRE A	{font-size:10px;}
H3	{text-align:left;font-size:11pt;margin-top:25px;margin-bottom:0px;color:#607080;}
H3.mt	{text-align:center;margin-top:5px;font-size:18pt;font-family:arial,sans-serif;}
H3.st	{text-align:center;margin-top:15px;font-size:9pt;}
P	{margin-top:8px;margin-bottom:8px;}
UL	{margin-left:-15px;list-style:circle;}
A	{color:blue;text-decoration:underline;}
A.tl	{display:block;position:absolute;top:0px;left:0px;padding:2px 20px 4px 8px;text-decoration:none;background:#e6e6e6;color:#506070;}
HR	{width:100%;height:1px;background:silver;color:silver;border:0;align:center;}
</style>
<!--[if IE]><style type="text/css">UL {margin-left:20px;}</style><![endif]-->
</head>
<body>

<center><div style="width:600px;text-align:left;">

<div style="float:right;width:128px;height:128px;background:url(res/12.png);">&nbsp;</div>



<h3 class="mt">IP-TV Player</h3>

<h3 class="st">Программа для удобного просмотра <acronym title="Что такое IP-телевидение"><a href="#2" style="color:#607080;text-decoration:none;">IP-телевидения</a></acronym></h3>

<a name="0"></a><h3>Содержание</h3>
<ul>
<li><a href="#feat">Возможности</a></li>
<li><a href="#news">История версий</a></li><br>
<!--begin cont-->
<li><a href="#2" >Что такое IPTV</a></li>
<li><a href="#4" >Сетевые настройки</a></li>
<li><a href="#5" >Запись</a></li>
<li><a href="#6" >Список каналов, формат M3U</a></li>
<li><a href="#7" >Телепрограмма, формат JTV</a></li>
<li><a href="#8" >Настройка плеера с нуля (если у вас есть только список каналов)</a></li><br>
<li><a href="#11">Для провайдеров &rarr; Сборка дистрибутива</a></li>
<li><a href="#9" >Для специалистов &rarr; Просмотр эфирного ТВ через ТВ-тюнер</a></li>
<li><a href="#3" >Для специалистов &rarr; Сетевые особенности IPTV</a></li>
<li><a href="#13">Для специалистов &rarr; UDP-to-HTTP Прокси</a></li>
<!--end cont-->
<li><a href="#15">Дополнительно &rarr; Проекты третьих сторон</a></li>
</ul>



<a name="feat"></a><h3>Возможности</h3>

<!--shot-->

<ul>
<!--begin feat-->
<li>простое и быстрое развёртывание в сети провайдера</li>
<li>просмотр <b>открытых</b> (<b>незашифрованных</b>) потоков http, udp-multicast и т.д. (частичная поддержка ТВ-тюнеров через WDM-драйвер)</li>
<li>отдельные настройки для каналов</li>
<li>возможность записи потока в файл</li>
<li>OSD (информационное окно внизу видео-окна) - громкость и название канала, индикатор записи</li>
<li>список каналов в видео-окне</li>
<li>управление видео с клавиатуры (клавиши смотрите в краткой справке в самой программе)</li>
<li>поддержка телепрограммы в формате JTV (автоматическая загрузка, распаковка, сопоставление, возможность экспорта в HTML)</li>
<li>планировщик записи/просмотра</li>
<li>фоновая запись любого количества каналов (естественно, ваш провайдер может ограничивать количество одновременно просматриваемых каналов)</li>
<!--end feat-->
</ul>



<a name="news"></a><h3>История версий</h3>

<ul>
<!--begin news-->
<li><!--10.04.2010--> <b>v0.28.1.8798</b> - исправлена критическая ошибка в работе с временной папкой, исправлена ошибка аудио дорожки в фоновой записи, система сбора статистики</li>
<li><!--17.02.2010--> <b>v0.28.1.8792</b> - возможность указания языка приоритетной аудио дорожки, подгрузка настроек сразу из списка каналов</li>
<li><!--25.10.2009--> <b>v0.28.1.8746</b> - начало поддержки ветки VLC 1.0.x, много мелких доработок</li>
<li><!--28.05.2008--> <b>v0.28</b> - более удобные средства для провайдеров (автопоиск телепрограммы, логотипов, загрузка настроек со своего сервера, сборка дистрибутива "под себя"), небольшие изменения интерфейса</li>
<li><!--02.12.2007--> <b>v0.27.1</b> - совместимость c Aero (direct3d), профиль пользователя, некоторая "защита от дурака"</li>
<li><!--09.06.2007--> <b>v0.26.10</b> - исправлена критическая ошибка, вызывавшая падение плеера</li>
<li><!--06.03.2007--> <b>v0.26.9</b> - исправлена работа с несколькими аудио дорожками (в файл записывается только текущая дорожка!)</li>
<li><!--23.01.2007--> <b>v0.26</b> - переработан интерфейс, ликвидирована возможность ложного срабатывания некоторых антивирусов</li>
<li><!--26.12.2006--> <b>v0.25</b> - возможность выбора аудио дорожки, моно режим, возможность игнорирования деинтерлейса и обрезки кадра</li>
<!--end news-->
<li><!--15.12.2006--> <b>v0.24</b> - доп.информация в списке каналов, регилировка цветовых параметров изображения без остановки, снятие скриншотов, телепрограмма поверх видео, улучшения отрисовки интерфейса</li>
<li><!--14.11.2006--> <b>v0.21</b> - поправки переключения каналов и выхода, OSD при поиске по списку, изменены клавиши поиска по списку</li>
<li><!--11.11.2006--> <b>v0.20</b> - дополнительная оптимизация обращений к ActiveX VLC</li>
<li><!--05.11.2006--> <b>v0.18</b> - фоновая запись, пробная поддержка зума</li>
<li><!--01.11.2006--> <b>v0.17</b> - ручной выбор адреса и файлов телепрограммы, полная поддержка Udp-to-Http-прокси</li>
<li><!--23.10.2006--> <b>v0.16.4</b> - исправления в планировщике, сделан "Режим ожидания" (вроде Winamp-Agent)</li>
<li><!--22.10.2006--> <b>v0.16</b> - планировщик записи, мелкие поправки алгоритма записи</li>
<li><!--21.10.2006--> <b>v0.15</b> - кнопка и команда "свернуть" теперь просто сворачивают плеер (а не "усыпляют"), всплывающая панель управления внизу экрана, улучшена совместимость с Windows 98/ME</li>
<li>14.10.2006 - куча всяких доделок, показ всей телепрограммы [Shift+G] (подтормаживает), запись без контейнера (raw) вместо дампа (можно mp3-радио в mp3-файл писать), выбор аудио карты</li>
<li>03.10.2006 - обновлялка телепрограммы встроена в плеер, экспорт телепрограммы в HTML</li>
<li>01.10.2006 - телепрограмма в OSD, в меню и в отдельном окне [G], оптимизация обращений к ActiveX VLC</li>
<li>xx.09.2006 - ... множество изменений ...</li>
<li>15.08.2006 - совместимость с VLC 0.8.5, кнопка записи останавливает запись и продолжает воспроизведение, индикатор записи на видео-окне</li>
<li>08.08.2006 - код переписан заново (объём в 2 раза меньше), новые клавиши в видео-окне, видеокно стабилизировано</li>
<li>05.08.2006 - отдельные настройки для каналов, OSD (пока громкость и название канала), новые клавиши в видео-окне</li>
<li>04.08.2006 - День Рождения программы</li>
<!--end news-->
</ul>



<a name="2"></a><h3>Что такое IPTV</h3>

<p>IPTV (оно же DVB-IP или TVoIP) <b>НЕ означает</b> «телевидение, вещающее через сеть Интернет». Начало этой аббревиатуры, IP, значит лишь то, что используется данный протокол передачи данных (в данном частном случае, для передачи видеоконтента), но система целиком с мировой паутиной не связана абсолютно ничем. Услугу IPTV предоставляет вам <b>ВАШ ПРОВАЙДЕР</b>, т.е. та компания, которая проводила вам в квартиру сетевой кабель (Ethernet) или устанавливала ADSL-модем. IPTV напоминает обычное кабельное телевидение, только в дом оно приходит не по <a target="_blank" href="http://ru.wikipedia.org/wiki/Кабельное_телевидение">коаксиальному кабелю</a>, а по тому же каналу, что и интернет (ADSL модем или Ethernet). Если ваш провайдер не предоставляет такую услугу или предоставляет её только через телеприставку и не публикует список каналов, то плеер вам не нужен.</p>

<p>IPTV представляет собой трансляцию каналов (обычно получаемых со спутников), преимущественно в форматах MPEG2/MPEG4 по транспортной сети провайдера, с последующим просмотром на компьютере или специальной телеприставке (Set-Top Box).</p>

<p>Некоторые провайдеры используют шифрование потока, чтобы определённые каналы можно было смотреть только через телеприставку с использованием идентификационной карты или пин-кода, такой поток плеер воспроизвести не сможет. Если провайдер продаёт услугу <b>только</b> вместе с приставкой и шифрует каналы, то плеер для вас также будет бесполезен.</p>



<a name="4"></a><h3>Сетевые настройки</h3>

<p>Практически все файерволы, такие как Agnitum Outpost и Kaspersky Internet Security по умолчанию блокируют IPTV (мультикаст), так как считают его атакой. В общем случае необходимо разрешить в системных правилах протокол <a target="_blank" href="http://ru.wikipedia.org/wiki/IGMP">IGMP</a> (протокол управления подключениями к мультикаст-группам) и разрешить плееру любую TCP-активность (для скачивания списков каналов и телепрограммы) и UDP-активность (непосредственно для IPTV).</p>

<p>
<b>Outpost Firewall 2009</b>
<ul>
<li>Нажмите кнопку Настройки на верхней панели окна Outpost</li>
<li>Перейдите в раздел "Правила для приложений", нажмите кнопку Добавить</li>
<li>Укажите путь к IpTvPlayer.exe, нажмите кнопку Редактировать, отметьте "Разрешать все действия", нажмите OK</li>
<li>Перейдите в раздел "Сетевые правила", нажмите кнопку "Системные правила", перейдите во вкладку "Низкоуровневые правила"</li>
<li>Cнимите галочку с правила Block IGMP </li>
<li>Создайте правило "Где протокол IP и IP-протокол IGMP. Разрешить эти данные"</li>
</ul>
<b>Старые версии Outpost Firewall</b>
<ul>
<li>Меню Параметры &rarr; Приложения &rarr; Доверенные приложения &rarr; Добавить... </li>
<li>Укажите путь к IpTvPlayer.exe </li>
<li>Перейдите на вкладку Системные и в секции "Глобальные правила и доступ к rawsockets" нажмите на кнопку Параметры</li>
<li>Снимите галочку с правила Block IGMP </li>
<li>Создайте правило "Где протокол IP и IP-протокол IGMP. Разрешить эти данные"</li>
</ul>
<b>Kaspersky Internet Security</b>
<ul>
<li>Настройка &rarr; Сетевой экран &rarr; Система фильтрации &rarr; Настройка &rarr; Правила для приложений</li>
<li>Нажмите добавить и укажите путь к IpTvPlayer.exe</li>
<li>Нажмите кнопку Шаблон и выберите Разрешить всё</li>
<li>Перейдите на вкладку Правила для пакетов</li>
<li>Создайте правило "Разрешать входящие и исходящие IGMP/RGMP пакеты</li>
</ul>
<b>ESET Smart Security</b>
<ul>
<li>Зайдите в меню "Дополнительные настройки" нажатием "F5" или "Настройки &rarr; Дополнительные настройки". </li>
<li>Слева в меню перейдите в раздел "Персональный файервол", в секции "Режим фильтрации" выберите "Интерактивный режим".</li>
<li>Слева в меню перейдите в раздел "Правила и зоны, в секции "Редактор правил и зон" нажмите кнопку "Настройки". </li>
<li>Создайте правило для протокола "IGMP": "Имя" - любое слово, "Направление" - любое, "Действие" - разрешить, "Протокол" - IGMP.</li>
<li>Везде нажмите "ОК" и закройте программу, она остается висеть в трее.</li>
<li>Запустите плеер и NOD32 попросит действие.</li>
<li>Поставьте галочку "Запомнить действие(создать правило). </li>
<li>Откройте "Расширенные параметры" и нажмите кнопку "Пользовательское правило": "Направление" - любое, "Действие" - разрешить.</li>
<li>Нажмите ОК.</li>
</ul>
<b>Comodo Firewall</b>
<ul>
<li>Защита &rarr; Монитор приложений: Укажите путь к IpTvPlayer.exe, выберите "Любой родитель", установите галочку "Разрешить любые действия этому приложению"</li>
<li>Защита &rarr; Сетевой монитор: Выберите "Протокол: IP", перейдите на вкладку "Детали IP" и выберите "Протокол IP: IGMP". Переместите новое правило на одну позицию выше, так, чтобы оно было до правила "Блокировать и занести в журнал</li>
</ul>
</p>

<p>Если в вашем компьютере больше одной сетевой карты или вам предоставляется интернет по VPN или PPPoE, необходимо обязательно указывать в плеере рабочую сетевую карту. Так как IPTV обычно распространяется локально, это будет карта с адресом 192.168.0.*, 192.168.1.*, 172.*.*.* или 10.*.*.*. При первом запуске плеер автоматически выберет первую сетевую карту. Сменить сетевую карту можно так: <b>Настройки &rarr; Общие &rarr; Сетевой интерфейс</b>.</p>

<p>В некоторых сетях рекомендуется устанавливать специальное значение параметра VLC udp-caching (например: udp-caching=3000). Это делается так: <b>Настройки &rarr; Общие &rarr; Кэш (миллисекунды)</b></p>



<a name="5"></a><h3>Запись</h3>

<p>Запись в IP-TV Player действительно является записью, то есть копированием получаемых из сети данных на жёсткий диск практически без нагрузки на процессор. Для сравнения, в случае ТВ-тюнера это кодирование видео, а потом уже запись, что создаёт большую нагрузку на процессор, память и т.д.</p>

<p>Как правило, современное IP-телевидение кодируется в формате MPEG2, поэтому получаемые при записи файлы аналогичны VOB-файлам с бытовых DVD-дисков. Однако, при помощи плеера можно смотреть и записывать любые потоки, такие как Windows Media (mms), MP3-радио и т.д. Для разных источников нужно использовать разные форматы (контейнеры) конечных файлов.</p>

<p>Задаётся в <b>Настройки &rarr; Общие &rarr; Формат контейнера записи</b></p>

<p>Итак, для IPTV в MPEG2 и AVC нужно использовать контейнер <b>PS</b> - получатся файлы с расширением MPG, аналогичные VOB-ам с DVD. Они могут быть проиграны такими плеерами, как PowerDVD, Media Player Classic и т.д. Преобразовать их в AVI (кодирование в DivX/XviD) можно при помощи программ типа DVD-to-AVI, Gordian Knot, AutoGK и другими, предназначенными для преобразования DVD в AVI. Вырезать из MPG, например, рекламу и сохранить <b>без</b> перекодирования можно при помощи программ <a target="_blank" href="http://avidemux.sourceforge.net/">AviDemux</a>, <a target="_blank" href="http://www.dvdvideosoft.com/products/dvd/Free-Video-Dub.htm">Free Video Dub</a>, VideoReDo. Заниматься видеомонтажом <b>с</b> перекодированием можно в <a target="_blank" href="http://home.comcast.net/~fcchandler/stable/VirtualDub-MPEG2.zip">VirtualDub-MPEG2</a>, <a target="_blank" href="http://avidemux.sourceforge.net/">AviDemux</a>, Mpeg Video Wizard DVD, Canopus ProCoder, Adobe Premiere Pro, Edius и других.</p>

<p>Поток IPTV-MPEG2 обычно идёт толщиной в 5-6 МБит/с, это порядка 2.5 ГБайт/час.</p>

<p>При записи видео в формате Windows Media (mms, http-asx) нужно использовать контейнер <b>ASF</b> - получатся файлы воспроизводимые Windows Media Player 9.0 или выше.</p>

<p>При записи MP3-радио (http, обычно порт 8000) нужно использовать контейнер <b>RAW</b> и переименовывать полученные файлы с расширением RAW в MP3.</p>

<p><a target="_blank" href="http://borpas.info/download/IpTvPlayer-Tutorial-BgRec.swf">Видеоролик об использовании планировщика и фоновой записи</a></p>



<a name="6"></a><h3>Список каналов, формат M3U</h3>

<p>Пример списка каналов:</p>

<p><pre>#EXTM3U
#EXTINF:-1,Первый канал
udp://@224.10.10.1:8001
#EXTINF:-1,ТВЦ Сибирь
udp://@224.10.10.2:8002
#EXTINF:-1,7 ТВ
udp://@224.10.10.3:8003
#EXTINF:-1,A-One
udp://@224.10.10.4:8004
#EXTINF:-1,REN TV
udp://@224.10.10.5:8005</pre></p>

<p>Директивы #EXTVLCOPT не поддерживаются!</p>
<p>Ну тут всё и так понятно. Хотелось бы отметить, что каналам рекомендуется давать правильные названия (например, канал "ОРТ" правильно называется "Первый канал", а "РТР" - "Россия") и по-русски, а не транслитом. Это важно для того, чтобы плеер автоматически связал с каналами логотипы и файлы телепрограммы.</p>
<p>Кодировка может быть ANSI или UTF8, плеер может загружать списки только из файла или по протоколу http.</p>



<a name="7"></a><h3>Телепрограмма, формат JTV</h3>

<p>Формат JTV появился в одноименной программе польского разработчика Ярослава Ковальского для ТВ-тюнеров на базе чипов bt8x8. Это двоичный формат, база телепрограмм JTV обычно является архивом ZIP или RAR, содержащим пары файлов (с расширением NDX и PDT) для каждого телеканала. Новая база обычно выходит каждую неделю по понедельникам. Формат не содержит информации о часовом поясе, поэтому вы должны узнать текущий пояс телепрограммы на сайте источника. Формат JTV в основном распространён на территории бывшего СССР, где и была в 2000-2003 году популярна одноименная программа. Сейчас наиболее популярным ПО, использующим формат JTV, является ПО для тюнеров <a target="_blank" href="http://www.beholder.ru/bb/viewforum.php?f=12">Beholder</a> и <a target="_blank" href="http://www.gotview.ru/v2/uniq.html">GotView</a>.</p>

<p>Популярные источники JTV (везде более 200 каналов):</p>

<p>
&nbsp; - <a href="http://www.teleguide.info/download/new3/jtv.zip">http://www.teleguide.info/download/new3/jtv.zip</a> (GMT+3)<br>
&nbsp; - <a href="http://www.beholder.ru/jtv.zip">http://www.beholder.ru/jtv.zip</a> (GMT+3)<br>
&nbsp; - <a href="http://www.gotview.ru/programs/tv.rar">http://www.gotview.ru/programs/tv.rar</a> (GMT+3)<br>
&nbsp; - <a href="http://www.star.poltava.ua/jtv/rus.php" target="_blank">http://www.star.poltava.ua/jtv/rus.php</a> (GMT+3)<br>
&nbsp; - <a href="http://www.star.poltava.ua/jtv/ukr.php" target="_blank">http://www.star.poltava.ua/jtv/ukr.php</a> (GMT+2)<br>
&nbsp; - <a href="http://www.teleweb.ru/files/jtv_o.zip">http://www.teleweb.ru/files/jtv_o.zip</a> (GMT+2)
</p>

<p>Разработчики могут разобраться с форматом JTV, ознакомившись с программой <a href="http://jtvhost.chat.ru/files/guidegen.zip">GuideGen</a></p>

<p>Архивы ZIP-формата плеер может распаковать самостоятельно. Для автоматической распаковки RAR/7Z/TGZ необходимо, чтобы в системы был установлен <a target="_blank" href="http://www.win-rar.ru/">WinRAR</a> или <a target="_blank" href="http://7-zip.org.ua/ru/">7-Zip</a>.</p>



<a name="8"></a><h3>Настройка плеера с нуля (если у вас есть только список каналов)</h3>

<p>Запустите плеер, выбрав в качестве преднастройки "<b>Пустой профиль</b>", загрузите каким-либо образом список каналов через <b>Настройки &rarr; Общие &rarr; Адрес списка каналов</b> (с веб-сайта или из файла). При необходимости предварительно отредактируйте список каналов блокнотом, следуя вышеописанным рекомендациям.</p>

<p><b>Не торопитесь начинать просмотр каналов!</b> Сначала в <b>Настройки &rarr; Канал</b> установите параметры по-умолчанию (будут применены ко всем каналам), например, для IPTV Деинтерлейс Blend, Соотношение сторон 4:3 и т.д. Выбрав умолчания, нажмите кнопку <b>Применить</b> и <b>Закрыть</b> диалога настроек.</p>

<p>Выберите в Меню <b>Телепрограмма &rarr; Автоматическая настройка</b> - плеер попытается выбрать наиболее подходящие логотипы и файлы телепрограммы для всех каналов по очереди. После завершения автонастройки "пройдитесь руками" по всем каналам и поправьте ошибки, при необходимости выберите соответствующие звуковые дорожки.</p>



<a name="10"></a><a name="11"></a><h3>Для провайдеров &rarr; Сборка дистрибутива</h3>

<p><b>Конфигурация</b></p>

<p>Отредактируйте <a href="#6">список каналов</a> и <a href="#8">настройте</a> плеер, следуя вышеописанным рекомендациям.</p>

<p>Убедитесь что в <b>Настройки &rarr; Общие &rarr; Адрес списка каналов</b> вписан правильный адрес списка каналов на вашем сервере (и правильный адрес телепрограммы, если бы будете зеркалировать какой-нибудь популярный источник JTV)! В меню выберите <b>Телепрограмма &rarr; Экспорт настроек</b> и сохраните INI-файл. Загрузите INI-файл и список каналов в соответствующую директорию на вашем веб-сервере (в примере ниже http://ваш.сервер/ваш_файл.ini).</p>

<p><i>Чтобы попасть в список провайдеров, загружающийся при установке оригинального дистрибутива, отправьте нам письмо с вашего корпоративного домена с названием вашей компании и адресом INI-файла.</i></p>

<p><b>Сборка</b></p>
 
<p>Загрузите с сайта <a target="_blank" href="http://www.7-zip.org/download.html">www.7-zip.org</a> пакет "<a target="_blank" href="http://downloads.sourceforge.net/project/sevenzip/7-Zip/4.65/7z465_extra.7z?use_mirror=heanet">SFXs for installers</a>" и распакуйте, например в папку C:\7zip, загрузите последнюю версию плеера и назовите файл <b>Setup.exe</b>. Поместите в одну папку (например C:\IPTV) файлы Setup.exe, Logo.png (необязательно, логотип в центре экрана), Loading.png (необязательно, загрузочная заставка), папку Icons с дополнительными значками (необязательно, формат bmp, размер 24x24, имена файлов должны совпадать с названиями каналов в вашем списке). Создайте там же файл <b>Provider.ini</b>:</p>

<p><pre>[List]                       ; стандартный вариант
Count=1
1name="Название Компании"
1uini="http://ваш.сервер/ваш_файл.ini"

[List]                       ; вариант с выбором
Count=2
1name="Название Компании - Пакет1"
1uini="http://ваш.сервер/ваш_файл_1.ini"
2name="Название Компании - Пакет2"
2uini="http://ваш.сервер/ваш_файл_2.ini"
...

[List]                       ; вариант "только плейлист"
Count=1
1name="Название Компании"
1um3u="http://ваш.сервер/ваш_список_каналов.m3u"


[Settings]                   ; параметры плеера (необязательно)
apptitle1="Компания"         ; заголовок окна
apptitle2=" IP-TV Player"
colors=<i style="color:gray;">взять из user.ini</i>     ; стандартные цвета
cache=500                    ; значение VLC udp-cache
m3uautoload=1                ; обновление списка каналов
                               при каждом запуске
playlist=1                   ; включить список каналов
                               при первом запуске
support-url=www.ваш.сайт     ; ссылка для техподдержки
lansubnet=10.0.0.0/255.0.0.0 ; подсеть приоритетного
                               сетевого интерфейса
locked=0                     ; блокировака изменений
                               параметров провайдера
reportstat=www.ваш.сайт/stat ; адрес скрипта для сбора
                               статистики каналов</pre></p>

<p>Соберите при помощи 7zip самораспаковывающийся архив:</p>

<p><pre style="height:70px;">cd C:\IPTV
C:\7zip\7zR.exe a -sfx7zS.sfx IpTvPlayer-setup.exe Setup.exe *.png Icons\*.bmp Provider.ini </pre></p>

<p>Готово! Не забывайте периодически обновлять ваш дистрибутив и материально выражать благодарность авторам :)</p>
<p><b style="color:red;">Настоятельно не рекомендуется делать собственные дистрибутивы каким-либо другим способом!</b></p>
<p>Обычно "самопальные" дистрибутивы (т.е. собранные не по данной инструкции) содержат в жёстком, зашитом виде готовый файл настроек и список каналов, которые помещаются в Program Files\IP-TV Player. Это приводит к невозможности использования плеера без прав администратора, невозможность использования в Windows Vista и выше, невозможности динамического обновления настроек с сервера провайдера, неправильному выбору рабочей сетевой карты и многим другим нехорошим вещам.</p>



<a name="9"></a><h3>Для специалистов &rarr; Просмотр эфирного ТВ через ТВ-тюнер</h3>

<p>Эфирные каналы имеют адреса вида dshow://номер_канала, например:</p>

<p><pre>#EXTM3U
#EXTINF:-1,Первый канал
dshow://2
#EXTINF:-1,Вести 24
dshow://3
#EXTINF:-1,ТВ3
dshow://4
#EXTINF:-1,ТНТ
dshow://6
#EXTINF:-1,Россия
dshow://8
#EXTINF:-1,НТВ
dshow://10
#EXTINF:-1,СТС
dshow://12</pre></p>

<p>Не поддерживается запись!</p>
<p>Для диапазона кабельных каналов добавьте к номеру "<i>-cable</i>" (пример: <a>dshow://6-cable</a>)</p>



<a name="3"></a><h3>Для специалистов &rarr; Сетевые особенности IPTV</h3>

<p>Адреса каналов IPTV обычно выглядят как <a>udp://@x.x.x.x:y</a>. IPTV отличается от WebTV (видеотрансляции на сайтах) и MP3-радио тем, что оно распространяется по сети провайдера в виде <a target="_blank" href="http://ru.wikipedia.org/wiki/Multicast">мультикаста</a>.</p>

<p>Рассмотрим особенности мультикаста "на пальцах": например, вы смотрите IPTV через ADSL-модем или Ethernet-роутер, к которому подключено несколько компьютеров. Если с первого компьютера будет открыт какой-нибудь канал IPTV, то видеопоток пойдёт на все компьютеры - грубо говоря, лампочки будут мигать напротив портов всех компьютеров. Если у вас 10 компьютеров и все они будут запущены на один канал, нагрузка будет такая же, как если бы это был один компьютер.</p>

<p>Однако, этот самый мультикаст плохо влияет на WiFi, и если к модему или роутеру параллельно подключена WiFi-точка доступа, при включении IPTV она "задохнётся" от потока данных и перестанет "раздавать" интернет. Вторым гвоздём в гроб WiFi является то, что IPTV использует протокол <a target="_blank" href="http://ru.wikipedia.org/wiki/UDP">UDP</a>, его особенностью является негарантированность доставки. UDP удобен, т.к., например, при проблемах на линии некоторая часть данных может "дропаться" без полной потери картинки. Но при передаче данных по WiFi, даже при достаточной скорости соединения, UDP-пакеты получают низкий приоритет и могут пропускаться.</p>

<p>Как всё же передать IPTV по WiFi, читайте <a href="#13">ниже</a>.</p>



<a name="13"></a><h3>Для специалистов &rarr; UDP-to-HTTP Прокси</h3>

<p>UDP-to-HTTP Прокси предназначен для преобразования udp-мультикаст трафика IPTV в tcp-юникаст (конкретно http) трафик. Это полезно для комфортного просмотра IPTV через WiFi, NAT, на КПК, <a href="http://medialounge.ru/2007/11/iptv/" target="_blank">бытовых плеерах</a> и <a href="http://torrents.ru/forum/viewtopic.php?t=1497502" target="_blank">игровых консолях</a>.</p>

<p>Данная утилита предназначена для двух целей:<br>
 
&nbsp; 1) для передачи IPTV внутрь небольшой локальной сети на базе <b>не</b>серверной версии Windows<br>
&nbsp; 2) для стабильной передачи IPTV по WiFi (или на бытовое устройство) в виде http-трафика</p>

<p><b>Схема 1. Типовая локальная сеть</b></p>

<p><pre>
192.168.0.2 &#8592;&#9488;  &#8592;<i>http</i>                       &#8592;<i>udp</i>
192.168.0.3 &#8592;&#9508;   &#9484;——————————————————————————&#9488;   &#9484;———————————&#9488;
192.168.0.4 &#8592;&#9532;———&#9508;  сервер на базе Windows  &#9500;———&#9508;   модем   &#9474;
192.168.0.5 &#8592;&#9508;   &#9474; 192.168.0.1——192.168.1.2 &#9474;   &#9474;192.168.1.1&#9474;
   .....    &#8592;&#9496;   &#9492;——————————————————————————&#9496;   &#9492;———————————&#9496;
          &uarr;                              &uarr;
<a>http://192.168.0.1:7781/udp/224.10.10.1:8001</a> &#8592; <a>udp://@224.10.10.1:8001</a>
</pre></p>

<p>В данном примере прокси стоит на компьютере с адресами 192.168.0.1 (в локальную сеть) и 192.168.1.2 (в модем), работает на порте 7781. На схеме также приведён пример преобразования адреса. В IP-TV Player (у пользователей локальной сети) в <b>Настройки &rarr; Общие &rarr; Сетевой интерфейс</b> можно просто вписать <a>192.168.0.1:7781</a> — адреса будут преобразовываться автоматически (можно использовать и вариант <a>домен:порт</a>).</p>

<p></p>

<p><b>Схема 2. Модем или роутер с WiFi</b></p>

<p><pre>
<a>http://192.168.1.2:7781/udp/224.10.10.1:8001</a>
      &darr;
  192.168.1.3 &#8592; ((•)) WiFi
                  &uarr;
&#9484;—————————————&#9488;  &#8592;&#9532;———————————————&#9488;
&#9474; 192.168.1.2 &#9474;&#8592;&rarr;—&#9508;  192.168.1.1  &#9500;—<<<—— xDSL или Ethenet
&#9474; udp-to-http &#9474;  &#8592;&#9508; роутер с WiFi &#9474;
&#9492;—————————————&#9496;  &#8592;&#9524;———————————————&#9496;
      &uarr;
<a>udp://@224.10.10.1:8001</a>
</pre></p>

<p>Существует аналог UDP-to-HTTP Прокси для Linux — <a target="_blank" href="http://sourceforge.net/projects/udpxy/">Udpxy</a> (сторонней разработки), он включён в прошивку для роутера <a target="_blank" href="http://wl500g.info/showthread.php?t=12182">ASUS WL-500g "от Олега"</a> и официальные прошивки для модемов <a target="_blank" href="http://www.ddixlab.ru/forum/viewtopic.php?t=593">Acorp 122/422/W422G</a>. Это значит, что вы можете напрямую обращаться по http к данным модемам - <a>http://192.168.1.1:порт-прокси/udp/адрес:порт</a> и прописать в IP-TV Player в качестве сетевого интерфейса <a>192.168.1.1:порт-прокси</a> без выделения отдельного компьютера под сервер (192.168.1.1 - стандартный адрес вашего модема/роутера, если настройки изменены, он может отличаться).</p>



<a name="15"></a><h3>Дополнительно &rarr; Проекты третьих сторон</h3>
<p>
<ul>
<li><a href="http://www.sinor.ru/~ahk/" target="_blank">AutoHotkey-cценарии для IP-TV Player от Big Digger</a></li>
<li><a href="http://www.rsdn.ru/forum/life/3528977.aspx" target="_blank">IPTVPlayer RC Assistant для ТВ-тюнеров Beholder</a></li>
</ul>
</p>



<div style="float:right;width:90px;height:30px;margin-top:15px;">
    <!--rating-mail-ru-counter-->
    <script language="JavaScript" type="text/javascript"><!--
    d=document;var a='';a+=';r='+escape(d.referrer)
    js=10//--></script><script language="JavaScript1.1" type="text/javascript"><!--
    a+=';j='+navigator.javaEnabled()
    js=11//--></script><script language="JavaScript1.2" type="text/javascript"><!--
    s=screen;a+=';s='+s.width+'*'+s.height
    a+=';d='+(s.colorDepth?s.colorDepth:s.pixelDepth)
    js=12//--></script><script language="JavaScript1.3" type="text/javascript"><!--
    js=13//--></script><script language="JavaScript" type="text/javascript"><!--
    d.write('<a href="http://top.mail.ru/stat?id=969827"'+
    ' target=_top><img src="http://dc.cc.be.a0.top.list.ru/counter'+
    '?id=969827;t=56;js='+js+a+';rand='+Math.random()+
    '" alt=""'+' border=0 height=31 width=88/><\/a>')
    if(11<js)d.write('<'+'!-- ')//--></script><noscript><a
    target=_top href="http://top.mail.ru/stat?id=969827"><img
    src="http://dc.cc.be.a0.top.list.ru/counter?js=na;id=969827;t=56"
    border=0 height=31 width=88
    alt=""></a></noscript><script language="JavaScript" type="text/javascript"><!--
    if(11<js)d.write('--'+'>')//--></script>
    <!--/rating-mail-ru-counter-->
</div>


<p style="text-align:center"><br><br><a href="http://borpas.info/" style="color:silver">borpas.info</a></p>



<a href="http://borpas.info/iptvplayer" class="tl">&larr; На страницу плеера</a>



</div></body></html>

<!--
Можно использовать следующие переменные:

   %self% - исполняемый файл плеера
   %ip% - сетевой интерфейс
   %subfn% - дополнение к имени файла
   %capdir% - папка для записи ("\" в конце)
   %mrl% - адрес канала
   %name% - название канала
   %dur% - продолжительность (в минутах)
   %time% - текущее время
   %date% - текущая дата
   %temp% - временная папка

Можно использовать следующие команды плеера:

   $updatetvg - обновить телепрограмму
   $updatem3u - обновить плейлист
   $sleep - уйти в режим ожидания
   $close - закрыть плеер
-->


