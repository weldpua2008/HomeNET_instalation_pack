<HTML><TITLE>greylink - история версий</TITLE>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251"/>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon"/>
<link rel="icon" href="favicon.ico" type="image/x-icon"/>
</head>
<BODY bgcolor=#808080>

<ul><u><b>0.25</b>-x86</u> (19.05.2010)</ul>

<p/>Исправлена ошибка 0.22: двойной клик в окнах соединений и поиска работал как скрыть/раскрыть группу, а не запуск закачки
<p/>Дополнена документация <a href="hotkeys.html">справочник кнопок</a>
<p/>Возможность скачивания с приоритетом "самый высокий" или "пауза" в указанную папку (см. раздел "кнопки в окне файл-листа и в окне результатов поиска" <a href="hotkeys.html">справочника кнопок</a>)
<p/>В режиме просмотра списка файлов без группировки по каталогам заполняется столбец "путь в шаре" (<b><i>Alex</i></b>)
<p/>Исправлены слетевшие табуляции перед горячими кнопками в пунктах меню (в <b>russian.xml</b>)
<p/>Реализованы функции импорта и экспорта примечаний к TTH и отметок о загруженных TTH из базы данных в файл формата .csv
<p/>Улучшена сортировка (<b><i>Sasha</i></b>)

<ul><u><b>0.22</b>-x64</u>, <u><b>0.23</b>-x86</u> (10.05.2010)</ul>

<p/>Переписано окно просмотра файл-листа. Для дерева каталогов вместо TreeView использован ListView в виртуальном режиме, что
позволяет показывать данные непосредственно из объекта DirectoryListing, не копируя их в объекты CommonControls.
Экономится память и время загрузки. (Возможно, какие-то функции временно перестали работать из-за глобальной переделки)
<p/>Оптимизирована загрузка больших файл-листов. Загрузка информации из базы данных вынесена в фоновый поток.
Например, файл-лист в формате *.xml.bz2 размером 10Mb загружался за 17 сек в предыдущей версии.
Сейчас через 2.5 сек листинг готов к просмотру и ещё через 6 секунд
появляется информация из базы данных о том, какие файлы скачивались ранее.
<p/>Режим отображения файл-листа без деления на каталоги - удобно для сортировки всех файлов по дате расшаривания при поиске новых файлов (thanks <b><i>Alex</i></b>)
<p/>В конце ссылки в чате допустимо использовать знаки препинания без отделения их пробелом от ссылки (<b><i>Alex</i></b>)
<p/>Управление ограничениями скорости через web-server (<b><i>Kiar</i></b>)
<p/>Управление ограничениями скорости через <a href="icq.html">icq-bot</a> командой <b>-lim</b>
<p/>Исправлен баг загрузки шары: при старте клиента последняя папка шары не загружалась и появлялась только при очередном обновлении шары.
(Имеет значение, только если выключено авто-обновление шары при старте)
<p/>Обновление IP через web-сервер или UPnP выставляет его не только в главных настройках, но и в настройках избранных хабов, у которых разрешено обновление IP (thanks <b><i>eheadz</i></b>)
<p/>Возможность установки кодировки сообщений NMDC-протокола (страница настроек 'Совместимость'). Пригодится пользователям WINE, которые по
каким-то причинам не могут настроить системную кодировку = Cyrillic (1251) в эмуляторе (<b><i>ibrain.com.ua</i></b>)
<p/>В очереди скачивания добавлен пункт меню "Подключиться к хабу" (Если источники файла были на хабах, которые сейчас не подключены)
<p/>Добавлен выбор приоритета скачивания в окно перехвата magnet-ссылки
<p/>Исправлен недочёт: если при переключении из пассивного режима в активный номера портов TCP/UDP остались равными 0, сейчас назначаются случайные числа
<p/>Параметры поиска в шаре запоминаются
<p/>Разные удобства в интерфейсе

<ul><u><b>0.21</b>-x86</u> (12.03.2010)</ul>

<p/>Доработка интерфейса: значения из выключенных столбцов всех списков отображаются в всплывающей подсказке
<p/>Использование TeX-формул в чате с помощью библиотеки <a href="bin/MimeTeX32.rar">MimeTeX</a>. TeX-выражение должно заключаться в скобки <b>&lt;$ ... $&gt;</b> <a href="img/tex_sample.png">Пример</a> (thanks <b><i>SAG</i></b>)
<p/>Исправлена ошибка в декодировании URLEncode имени файла при добавлении закачки из Web-сервера (<b><i>4e4ako</i></b>)
<p/>Исправлен креш при операциях со столбцами папок в очереди закачки (<b><i>KURAGE</i></b>)
<p/>Исправлена работа опции 'a' команды '/fav'

<ul><u><b>0.18</b>-x64</u>, <u><b>0.19</b>-x86</u> (5.03.2010)</ul>
<p/>Исправлены ошибки в окне соединений
<p/>Сохранение позиций сплиттеров в окнах "очередь закачки", "список файлов", "ожидающие юзеры", "трекер релизов" (thanks <b><i>KURAGE</i></b>)

<ul><u><b>0.17</b>-x86</u> (27.02.2010)</ul>
<p/>Исправлен вылет при удалении папки в "Избранных пользователях" (thanks <b><i>KURAGE</i></b>)
<p/>Загрузка данных по ip-адресам из файла <i>GeoIPCountryCSV.zip</i>, а не <i>GeoIPCountryWhois.zip</i>, т.к.
архив <a href="http://www.maxmind.com/download/geoip/database/GeoIPCountryCSV.zip">выкладывается</a> поставщиком
с этим именем (<b><i>Karumo</i></b>)

<ul><u><b>0.15</b>-x86</u> (27.02.2010)</ul>
<p/>Исправлено затенение иконок провайдеров у неактивных подключений в WinXP/2003 (thanks <b><i>GexOgen</i></b>)
<p/>Исправлено - папка для файл-листов в очереди скачивания была без названия

<ul><u><b>0.13</b>-x86</u> (27.02.2010)</ul>
<p/>Исправлена работа фильтра в результатах поиска (thanks <b><i>unikum111</i></b>)
<p/>Исправлена потеря качества иконок сетей провайдеров (thanks <b><i>Sasha</i></b>)

<ul><u><b>0.11</b>-x86</u> (26.02.2010)</ul>
<p/>Исправлено зависание в Windows7 при открытии очереди закачки
<p/>Улучшения интерфейса очереди закачки: переименование файла/папки в списке клавишей F2, множественный выбор папок для последующей установки приоритета или для удаления, отображение размера и количества файлов в дереве каталогов скачивания
<p/>Оптимизации производительности и расхода памяти сгруппированных больших списков (например, окно результатов поиска с тысячами записей)
<p/>Экспериментальная опция на странице настроек "совместимость": убрать мерцание чата
<p/>Пользователь и хаб выводится в лог при обнаружении $ConnectToMe flood
<p/>Группировка "Избранных пользователей" в папки, установка свойств всем пользователям в папке
<p/>Используется <b>mediainfo.dll</b> из пакета <b>K-Lite Codec Pack</b>, если последний установлен в системе (<b><i>zangriEAX</i></b>)
<p/>Исправлены ошибки

<ul><u><b>5.998</b>-x64</u>, <u><b>5.999</b>-x86</u> (16.11.2009)</ul>
<p/>Исправлены глюки в списке активных соединений
<p/>Исправлена ошибка 0.996 - нет флагов в чате

<ul><u><b>5.997</b>-x86</u> (15.11.2009)</ul>
<p/>Исправлена ошибка 5.996 - смайлы увеличивались на один пиксель в ширину и высоту от своего изначального размера, теряя чёткость (<b><i>DemonAk</i></b>)
<p/>Переименовывание папки в очереди скачивания аналогично переименовыванию в дереве папок проводника Windows (<b><i>hmury</i></b>)
<p/>Исправлен визуальный недочёт - незначительное перекрытие вкладок для некоторых окон

<ul><u><b>5.996</b>-x64</u> (14.11.2009)</ul>
<p/>Исправлены вылеты при длительной работе программы
<p/>Исправлены пустые имена файлов и другие глюки в списке текущих отдач
<p/>Числовая сортировка в дереве шары и очереди скачивания (например, папка <i>&ldquo;Часть9&rdquo;</i> выше, чем <i>&ldquo;Часть10&rdquo;</i>)
<p/>Обновлён SQLite
<p/>Исправлена ошибка - неверно определялось ожидаемое время до конца отдачи
<p/>Исправлено частичное обновление окна при смене градиента в режиме "случайный градиент" (<b><i>hmury</i></b>)
<p/>Из контекстного меню файла в своей шаре можно вызвать журнал скачиваний выбранного файла
<p/>Исправлено: не работало "закрыть все файл-списки" при вызове из меню закладки файл-списка (<b><i>KURAGE</i></b>)
<p/>Исправлено: при установке свойств Избранного пользователя неправильно отображались галочки в контекстном меню, если юзер не на хабе
<p/>Исправлена ошибка: если внутри папки, которой назначена группа шары, очистить эту группу шары для под-папки, отсутствие группы шары для подпапки не сохранялось в настройках и терялось при перезапуске программы (<b><i>Galantic</i></b>)
<p/>Доработки производительности фона чат-окна. В страницу настроек "совместимость" добавлена опция,
включающая использование GDI+ для рисования в окне чата (работает быстрее, но не глючит только в Windows 7 и в WinXP без SP2,SP3)
<p/>Изменения в переносе папки в очереди закачек в другое место: раньше всё содержимое папки перекладывалось в новую выбранную папку,
а исходное название переносимой папки исчезало, теперь папка полностью перемещается в новое место.
Таким образом, исчезла возможность переименовать папку в очереди закачек.
<p/>Исправлено: путь к расшареной папке в окне настройки шары не выделялся жирным, если папки в названии содержат русские буквы (<b><i>testsur</i></b>)

<ul><u><b>5.995</b>-x86</b></u> (27.10.2009)</ul>
<p/>Исправлена ошибка в отображении фоновых картинок в Windows XP SP2,SP3

<ul><u><b>5.992</b>-x64</b></u>, <u><b>5.993</b>-x86</b></u> (26.10.2009)</ul>
<p/>Настройка фоновых изображений приватных и публичных чатов.
Предусмотрены всевозможные опции для комбинирования фонового изображения и логотипа.
Реализована поддержка прозрачности.
На разных хабах можно сделать разные настройки (через стандартный механизм)
<p/>Исправлена ошибка ICQ-бота: не работала команда <b>-select</b>
<p/>Исправлены некоторые вылеты
<p/>Исправлены некоторые ошибки в списке активных соединений

<ul><u><b>5.991</b>-x86</b></u> (9.10.2009)</ul>
<p/>Исправлены недостатки версии 5.98:
<br/>Шаманства с отрисовкой смайлов (ошибки в WinXP SP2,SP3)
<br/>Отсутствовала реакция на клик в магнет-ссылку
<br/>Не работало колесо мыши в окнах чата

<ul><u><b>5.98</b>-x64</b></u>, <u><b>5.99</b>-x86</b></u> (4.10.2009)</ul>
<p/>Исправлены ошибки при сортировке и группировке строк окна активных соединений (возможно, они приводили к неожиданным вылетам).
Добавлены новые глюки в списке соединений
<p/>Устранено мерцание анимированных смайлов. Опция "Альтернативная перерисовка смайлов" удалена
<p/>Поддержка фоновых изображений в окнах чатов (Установка картинки из файла и много других интересных опций
будет доступно в версии 6.00, сейчас для тестирования каждую минуту
генерируется картинка с градиентным фоном и случайными цветами)
<p/>В списке юзеров ADC-хаба добавлен столбец CID (<b><i>KURAGE</i></b>)
<p/>Исправлено: не работала опция "Стартовать хабы свёрнутыми" (как при автозапуске, так и новые).
Опция перенесена из "Дополнительно" в раздел "Окна".
<p/>Исправлена ошибка 5.96: перестала работать посылка сообщения из LUA-скрипта
<p/>Отображение в чате флага/IP-адреса пользователя для полученных ранее сообщений при успешном определении IP-адреса (<b><i>Phemmer</i></b>)
<p/>Обновление CustomLocations из репозитория <a href="http://subversion.assembla.com/svn/customlocations-greylink/trunk">lazybadger</a>
<br/>Для удобства переноса ini-файлов и картинок между папками возможно указание пути относительно ini- или map-файла, в котором записан путь
<br/>(например, <i>Image=Netbynet.bmp</i> равнозначно <i>Image=ru/Netbynet.bmp</i> или <i>Санкт-Петербург=spb.bmp</i> равнозначно <i>Санкт-Петербург=ru/city/spb.bmp</i>)
<br/>IP-диапазоны будут обновляться из этого проекта, как наиболее полного. Если нашли ошибку - пишите туда, не нам.
<p/>Расстояние между флагами страны-города-провайдера 2 пикселя для лучшей разборчивости

<ul><u><b>5.96</b>-x64</u>, <u><b>5.97</b>-x86</u> (20.09.2009)</ul>
<p/>Исправлена ошибка 5.94: зависание при долго висящем открытом окне поиска
<p/>Исправлен вылет при загрузке пустого смайл-пака (<b><i>Kenny</i></b>)
<p/>Исправлено отключившееся в 5.94 выделение ников в чате
<p/>В списке Избранных юзеров работает назначение "отдельной шары" для Избранного юзера сразу для нескольких выбранных строк (<b><i>Galantic</i></b>)
<p/>Добавлена настройка "Альтернативный способ анимации смайлов"
(смайл не вызывает сдвиг текста, если пересекает границу окна,
чтобы поместиться в окне целиком, но заметно мерцание смайлов)
<p/>Игнорируются пробелы в конце строк в файлах внутри <i>CustomLocations.zip</i>
<p/>Добавлены флаги некоторых городов (<b><i>AniNerbe</i></b>, <b><i>Mivit</i></b>) и дополнен <i>CustomLocations</i> (<b><i>Kevin</i></b>, <b><i>Kulak76</i></b>, <b><i>Kenny</i></b>)

<ul><u><b>5.95</b>-x86</u> (13.09.2009)</ul>
<p/>Возможность в <i>city.map</i> указать регион для города, чтобы не дублировать во всех ini-файлах
<p/>Исправлено отображение пунктирной сетки под флагом провайдера (<b><i>hmury</i></b>)
<p/>Команда "Окно" -> "Отправить сообщение на все подключенные хабы" (<b><i>VlaSok</i></b>)
<p/>Исправлена ошибка версии 5.70: отключилась раскраска и мини-изображения (значки пользователей, флаги) в списке результатов окна поиска
<p/>Не работало сокрытие "скрытых смайлов" в режиме совместимости со старыми смайл-паками
<p/>Исправлено: не отображались некоторые статичные смайлы из старых смайл-паков
<p/>Исправлено: не отображались некоторые анимированные смайлы в диалоге выбора смайла

<ul><u><b>5.94</b>-x64</u> (12.09.2009)</ul>
<p/>С этого момента чётные версии - x64, нечётные - x86
<p/>Изучение программы под профайлером. Оптимизированы узкие места, нагружающие процессор.
<p/>Исправлен баг (sdc 2.x+), приводящий к излишнему потреблению времени CPU при большом количестве
потоков скачивания
<p/>Переписаны классы управления памятью и синхронизации потоков, требуется тестирование под нагрузкой.
Память отдаётся системе обратно, когда больше не нужна (например, StrongDC не освобождает память после закрытия
нескольких больших файл-листов)
<p/>Поиск установленных программ и автоматическая настройка утилит предпросмотра, вызывается из "настроек предпросмотра"
<br/>Пока детектируются только Winamp, AviPreview.exe (установленный в одну папку с greylink.exe), Windows Media Player, Light Alloy, VideoLAN, Media Player Classic и GOM Player
<br/>При первом запуске программы (нет файла <i>DCPlusPlus.xml</i>) настройка происходит автоматически незаметно для пользователя
<p/>Изменён формат <i><b>CustomLocations</b></i>. Теперь это ZIP-архив, где иконки
сетей представлены каждая отдельным bmp-файлом. ini-файлов в архиве может быть несколько
(разделение по сетям, городам или провайдерам) для удобства редактирования. Страна
вычисляется вычисляется отдельно от провайдера (при наличии файла <i>GeoIPCountryWhois.csv</i>).
В новом формате у ip-диапазона можно указать город, а городу назначить флаг. В столбце "расположение"
выводится от 1 до 3 флагов (настраивается). Отдельные изображения из старых CustomLocations.bmp можно забрать
<a href="http://www.sendspace.com/file/ix6fhj">здесь</a>
<p/>Добавлена страница настроек "Флаги провайдеров"
<p/>Возможность загрузки <b><i>GeoIPCountryWhois.csv</i></b> из ZIP-архива (<b><i>GeoIPCountryWhois.zip</i></b>)
<p/>Опция "статичные изображения в диалоге выбора смайла" (только для старых смайл-паков)
<br/>Допустимы уменьшенные анимированные изображения, которые описываются в смайл-паке как
<pre> &lt;Emoticon PasteText=":)" Image="chat.gif" Preview="small.gif"/&gt; </pre>
Или для загрузки из DLL
<pre> &lt;Emoticon PasteText=":)" Image="pack.dll" ImageIndex="1" Preview="pack.dll" PreviewIndex="2"/&gt; </pre>
При включении режима совместимости со старыми паками картинки для чата и диалога выбираются из атрибутов Gif и Bitmap:
<pre> &lt;Emoticon PasteText=":)" Bitmap="static.bmp" Gif="ani.gif"/&gt; </pre>
<p/>Исправлено: не подключались папки в шаре через symlinks (<b><i>Vlad "vl"</i></b>)
<p/>Исправлена ошибка 5.90: если выключено "обновление шары при старте", то
не работали и обновления через заданный интервал (<b><i>VlaSok</i></b>)
<p/>Настройка "Макс. слотов на хаб" может принимать значение 0, чтобы хаб не получал слоты через очередь, только бонусами
<p/>Кнопка "очистить историю" в окне поиска (по многочисленным просьбам).
Небольшие изменения в расположении кнопок в окне поиска
<p/>Улучшена диагностика сетевых ошибок (чтобы помочь неопытным пользователям)
<p/>Исправлено: клиенты за прокси-сервером (M:5 в тэге) отображались как пассивные (M:P). Теперь признак
"Прокси" можно использовать в условиях сортировки, раскраски и выбора значка пользователя вместе с другими признаками.
Для лучшей маскировки <b>greylink</b> больше не устанавливает признак "Прокси" в своём тэге при использовании прокси

<ul><u><b>5.93</b></u> (23.08.2009)</ul>
<p/>Исправлена ошибка 5.92: файловый кеш иногда не записывал файл на диск (thanks <b><i>Tryte</i></b>)

<ul><u><b>5.92</b></u> (22.08.2009)</ul>
<p/>Для чтения с диска отдаваемых файлов используется свой кеш, а не кеш Windows,
чтобы <b>greylink</b> не занимал всю память "одноразовыми" (не используемыми повторно) данными при отдачах в фоновом режиме,
что делает более удобной работу с другими программами.
Можно увеличить размер блока чтения, чтобы
сгладить конфликты параллельных высокоскоростных отдач файлов.
Кеш конфигурируется на странице настроек "совместимость"
<p/>Корректная работа с symlinks в Windows Vista (<b><i>Vlad "vl"</i></b>)
<p/>На страницу "Слоты отдачи" добавлены настройки "Слотов на хаб, не более" и "Слотов на Избранного, не более"
(могут быть заданы индивидуально для каждого Избранного хаба), чтобы регулировать
число слотов по хабам и IP-диапазонам, если слот IP-диапазону выдаётся через
автослот Избранного юзера с заданным диапазоном IP (<b><i>VlaSok</i></b>)
<p/>Опция в окне поиска: показать/скрыть результаты поиска в своей шаре (<b><i>KURAGE</i></b>)
<p/>Добавлен доступ к комментариям к TTH в окнах завершенных скачиванияй и отдач (<b><i>Deft</i></b>)
<p/>Улучшения контекстных меню некоторых вкладок
<p/>При обнаружении несоответствия TTH источник переносится в неактивные с соответствующей отметкой (<b><i>AniNerbe</i></b>)
<p/>Исправлены неточности в работе опции <i>"Не показывать забаненных в очереди отдачи"</i>, переписаны функции раздачи слотов.
Когда юзер, попадающий в бан по шаре/слотам, дожидается очереди отдачи, он
переносится в конец очереди (если не включено <i>"скрыть забаненных в очереди отдачи"</i>),
чтобы не потерять информацию об ожидаемых файлах
<p/>Исправлено: ограничение скорости в Избранном пользователе было главнее ограничения шары,
в результате Избранный пользователь без назначенного лимита скорости скачивал из
папки шары, помеченной как "без граничений", с ограничением скорости (<b><i>Rubidy</i></b>)
<br/>Новая таблица ограничений выглядит так:
<table border="1"><tr><th>Ограничение Избранного</th><th>Ограничение папки шары</th><th>Результирующее ограничение скачивания</th></tr>
<tr><td>Безлимит</td><td>любое</td><td>Безлимит</td></tr>
<tr><td>любое</td><td>Безлимит</td><td>Безлимит</td></tr>
<tr><td>любое, кроме Нет или БАН (*)</td><td>любое, кроме Безлимит</td><td>Используется ограчение Избранного</td></tr>
<tr><td>Нет или БАН (*)</td><td>любое</td><td>Используется ограчение папки шары</td></tr>
</table>
<i>* Примечание: при наличии признака БАН в избранном пользователе или в папке шары, скачка возможна
только при принудительной выдаче слота</i>
<p/>Исправлено перекрытие окна выбора смайла панелью задач Windows
<p/>Исправлена ошибка 5.91: юзеры, у которых хаб не показал тэг, определяются как боты

<ul><u><b>5.91-x64</b></u> (11.08.2009)</ul>
<p/>Исправлен мастер создания новости: отключено ненужное ограничение на длину новости (thanks <b><i>ZdezBilYa</i></b>)
<p/>Исправлена ошибка 5.90: глючные версии StrongDC-sqlite, которые ошибочно
выставляли признак "бот", должны принудительно определяться как не-бот
<p/>Исправлена ошибка 5.90: не сохранялось положение панелей кнопок
<p/>На странице настроек панели инструментов добавлены кнопки "вверх", "вниз" для удобства настройки
<p/>Более развёрнуто расписаны настройки по скачке уже расшаренных файлов,
чтобы не возникало вопросов у пользователей, не читающих инструкции
(по мотивам <a href="http://livedc.ucoz.ru/forum/4-142-1">http://livedc.ucoz.ru/forum/4-142-1</a>).
Добавлена страница настроек "Приоритет" и часть опций перенесена, чтобы улучшить группировку
<p/>Чит "Добавка к шаре" может принимать отрицательные значения, чтобы обладатель большой шары
мог затеряться среди пользователей при сортировке по размеру шары и не привлекать внимание
борцов с пиратским контентом, при этом не удаляя ничего из своей шары
<p/>При включенной опции Избранного польователя <i>"автоматически скачивать magnet-ссылки из личных сообщений"</i>
файлы скачиваются не в общую папку закачек, а в папку с ником Избранного пользователя (или IP, если Избранный добавлен по IP) (<b><i>D-tox</i></b>)
<p/>Исправлена загрузка смайлов из bmp-файла с альфа-каналом
<p/>Исправлена ошибка мастера создания новости: не создавалась новость без картинки или если не нажималась кнопка "предпросмотр"

<ul><u><b>5.90</b></u> (9.08.2009)</ul>
<p/>Система публикации новостей (распределённый трекер релизов / система дневников / блогов). <a href="tracker.html">Подробнее...</a>
<p/>Исправлено: включение опции <i>"Запретить одновременное скачивание с одного IP"</i>, выключение <i>"Разрешить одному юзеру качать одновременно через несколько хабов"</i>
в некоторых случаях пропускали юзеров к свободным слотам
<p/>Опция <i>"Не обновлять шару при старте"</i> заменена на более общую <i>"Обновить шару через N секунд после старта (0 = не обновлять автоматически при старте)"</i>
<p/>Запоминается дата добавления файла в шару. Если выключена маскировка <b>greylink</b> и включено <i>"Отдавать дату расшаривания в своём файл-листе"</i>, то
другие пользователи могут подсвечивать файлы в файл-листе по условию "расшарено за последние N дней", используя кнопку "Поиск" в окне с файл-списком.
В своём списке поиск новых файлов всегда доступен, независимо от маскировки (<i>много запросов</i>)
<p/>Исправлено: если включена маскировка <b>greylink</b>, то группы шары не должно быть видно в файл-листе, даже если в настройках разрешён экспорт групп
<p/>Оптимизировано использование памяти и нагрузки на CPU на больших хабах
<p/>Колесо мыши прокручивает окно под курсором мыши, не требуя активации окна нажатием ЛКМ (thanks <b><i>tka4ev</i></b>)
<p/>В диалоге выбора смайла все смайлы всегда умещаются на экране независимо от их количества
<p/>В xml-смайлпак у описания смайла добавлен атрибут <i>Hidden="1"</i> для скрытия смайла из диалога выбора смайла. Пример - смайл <b>:gl:</b> в прилагаемом наборе "kolobok"

<ul><u><b>5.89</b></u> (19.07.2009)</ul>
<p/>Исправлено: невозможно зайти на созданный минихаб, если в настройках подключений указан <i>bind address</i> на внешний интерфейс (<b><i>Relaxer</i></b>)
<p/>Bind-адрес для каждого хаба может быть выставлен отдельно
<p/>Улучшена работа клиента, когда хабы подключены через разные интерфейсы и у каждого хаба выставлен свой bind-адрес (у остальных dc++ клиентов в этом случае не работает активный режим на всех хабах)
<p/>Новая библиотека обработки смайлов - <b>Microsoft GDI+</b> (встроена в Windows XP) вместо <b>ImageOle.dll</b> (thanks <b><i>AOD</i></b>).
Допустимые форматы смайлов: BMP, ICO, GIF, TIFF, JPG, PNG. <b><font color=#000080>Исчезла проблема с порчей графики при
большом количестве анимированных смайлов в чате</font></b>.
GDI+ не принимает формат bmp_v3 как формат с прозрачностью, несмотря на глубину цвета 32bpp, поэтому требуется пересохранить bmp-смайлы в bmp_v5 или в PNG
<p/>Новое окно выбора смайлов. Удалена опция "Анимировать диалог выбора смайла" - быстро работает, поэтому всегда включена. Размер смайла в диалоге
выбирается исходя из самого большого смайла в паке.
<p/>Возможна загрузка изображений смайлов из ресурса DLL, чтобы весь пак разместить в двух файлах (xml и dll). Допустимый тип ресурса: ICON, BITMAP, RCDATA.
<p/>Старая библиотека cwlink больше не поддерживается, рекомендуется её удалить или не использовать. Новый официальный смайл-пак - kolobok v1 (мини-версия) включен в дистрибутив.
Для сборки <b>kolobok.dll</b> из отдельных картинок запустите <b>make.cmd</b> из <a href="bin/kolobok_src.rar">kolobok_src.rar</a> (Требуется установленный Microsoft Visual Studio 2008)
<p/>Копирование из окна чата превращает смайлы обратно в текстовый вид
<p/>Для каждого окна чата может быть выбран свой смайл-пак (у избранных хабов он запоминается в настройках)

<ul><u><b>5.88</b></u> (05.07.2009)</ul>
<p/>Команды <a href="exclusive.html#minihub">минихаба</a> для контроля пользователей операторами, управление пользователями происходит на уровне ip-адресов:
<br/>+set <i>ip-адрес</i> [ ban | unban | op | deop | gag | ungag ]
<br/>+info
<br/>Команды также можно передавать фунцией SendPublicMessage <a href="lua.html">lua-скрипта</a> или настроить пользовательские юзер-команды для вызова из меню
<p/>Реализовано скачивание файлов через мини-хаб - скачиваются картинки в чате. Поиск отключен, чтобы минихаб, предназначенный только для чата, не использовали как файлообменный хаб
<p/>Опция "скрывать подключения в состоянии ожидания". Скрывает строки с текстом "Скачивание / Отдача завершены, ожидание..."
<p/>Исправлены таймауты сообщений "Отключен"
<p/>Исправлен текст у настройки "Папка для временных файлов", добавлено "пусто = скачивать сразу в место назначения".
По умолчанию папка для временных файлов не указана. Это понятнее пользователям, чем использование переменной <b>%[targetdrive]</b>
<p/>Исправлено: к юзеру не применяется авто-бан по слотам, если с хаба был передан пустой тег юзера
<p/>Исправлено: папка с логами иногда не открывалась из меню "Логи", если использовался относительный путь (.\Logs).
В найстройках по умолчанию папка с логами установлена как ".\Logs", чтобы обеспечить лучшую переносимость клиента в другую папку
<p/>Добавлена защита от DoS-атаки клиента Flylink r381: клиент бесконечно пытается скачать TigerTree для файла.
Поскольку отдача tth-информации происходит без очереди, сбойные клиенты могут занять значительную часть upload-канала.
После нескольких отдач TigerTree для одного и того же файла юзер банится на 5 минут.
<p/>В ОС Vista (прозрачность на кнопках) новые картинки кнопок [B], [I], [U], [S] (для английской версии клиента), новые картинки включения/выключения проверки орфографии и шифрования ЛС (thanks <b><i>Sasha</i></b>)
<br/>При подключении Russian.xml в Vista остались русифицированные значки от <b><i>AniNerbe</i></b>
<p/>Исправлено: потерянная опция "Обрабатывать запрос на расширенные характеристики файла" вернулась на страницу настроек шары. Так как
по умолчанию она выключена, то работала только у тех, кто включил её в момент появления.

<p/>Поддержка <a href="http://mediainfo.sourceforge.net/">MediaInfo.dll</a>: при установке DLL пользователи (greylink 5.88+) смогут получить подробную информацию
о видео, аудио и графических файлах в своей или чужой шаре, если в настройках хаба не "отключены фичи, позволяющие детектировать greylink", владелец шары разрешил запрашивать с него информацию и установил MediaInfo.dll (<i><b>masaykh</b></i>)
<br/>Пример выводимой информации:
<table><tr><td bgcolor='#E0E0E0'><pre>
Path in share:  /Movie/Lost-All/LOST.S05E03.HDTV.720p.x264.AC3.RUS.ENG-Alucard.mkv
File size:      2,17 GB
TTH root:       ELP62VGDV7BMEXXDVKBJITES4A5XV3RYGF57Q5I
Last modified:  2009.03.12 16:31
MediaInfo.dll summary:  Matroska, video: 1, audio: 2, subtitles: 1, duration: 00:42:23.776
video stream:   V_MPEG4/ISO/AVC 1280x720, 23.976 fps, 6 279 Kbps, English
audio stream:   AC3 448 Kbps, 48.0 KHz, 5.1, Russian
audio stream:   AC3 448 Kbps, 48.0 KHz, 5.1, English
subtitles:      S_TEXT/ASS, English
</pre></td></tr></table>
<br>На страницу "Дополнительно" добавлена опция "Отладочный режим в запросах к MediaInfo (даёт больше информации)"

<ul><u><b>5.87</b></u> (28.06.2009)</ul>
<p/>Опция <i>"Не показывать запросы на подключение в списке подключений (устраняет дрожание)"</i> теперь по умолчанию включена
<p/>Исправлена ошибка 5.86: не работали команды хаба
<p/>Исправлена ошибка 5.86: случайные креши из-за некорректного вызова API SQLite
<p/>Исправлена ошибка: в окне соединений иногда строки отключенных юзеров оставались неопределённо долго

<ul><u><b>5.86</b></u> (21.06.2009)</ul>
<p/>Исправлена утечка GDI-ресурсов в проверке орфографии
<p/>Добавлена настройка "Политика кеширования SQLite, устойчивая к сбоям питания" (снижает производительность)
<p/>"Отмена закрытия" окна запроса к журналу передач восстанавливает параметры запроса на момент закрытия
<p/>В "завершенные скачивания/отдачи" и "запрос к журналу передач" добавлены столбцы Filesize - полный размер файла, Transfered - сколько передано по сети
<p/>Стандартное меню пользователя добавлено в окно "запрос к журналу передач"
<p/>Исправлено: в завершённых скачиваниях иногда не заполнялся столбец "Страна"
<p/>Добавлена запись поисковых запросов избранного пользователя в файл (опция в свойствах избранного юзера).
Не работает на NMDC-хабах, если неизвестен IP-адрес пользователя в активном режиме (<b><i>KURAGE</i></b>)
<p/>Каждые 19 минут очередь закачек сохраняется в файл <b>Queue.xml.sav</b> и резервируется стандартным механизмом бэкапов (см. 4.24 от 27.09.2007)
<br/>Очередь закачек можно восстановить из файла, переименовав <b>Queue.xml.sav</b> в <b>Queue.xml</b> и перезапустив программу
<p/>Исправлена интеграция с <b>AIMP2</b> - переменная <b>%[elapsed]</b> показывала остаток времени трека, теперь время от начала трека
<p/>Настройка <i>"Убирать недоступные папки из списка шары"</i> по умолчанию включена, т.к. вызывает обращения к CD-ROM/FDD, которые были когда-либо
расшарены. Если необходимо оставлять такие ресурсы в списке расшаренных папок до следующего обновления шары, придётся выключить эту опцию после обновления до 5.86
<p/>Исправлено: если клиент набирает более 2000 юзер-команд на всех хабах (из-за ошибки в скриптах хаба или из-за большого количества подключенных хабов), то юзер-команды замещали другие пункты меню программы (<b><i>Diver</i></b>)
<p/>Исправлен недостаток 5.77: кнопка "Обзор" при скачивании одиночного файла вызывала выбор папки, а не выбор файла - нельзя было дать файлу другое имя (thanks <b><i>Phemmer</i></b>)

<ul><u><b>5.85</b></u> (16.06.2009)</ul>
<p/>Новый класс окон - запросы к базе банных журнала скачивания / отдачи (кнопку открытия можно вынести на панель кнопок)
<p/>Вызов истории закачек / отдач из меню "Информация о пользователе"
<p/>Исправлена ошибка: при включенной опции запоминания предыдущих IP были проблемы со скачиванием на ADC-хабах
<p/>В чате NMDC-хабов возможно использование любых спецсимволов из кодировки UNICODE (<b><i>Kiar</i></b>)
<p/>Для URL сделано преобразование в короткий вид за счёт разворачивания URL-encoding:
(<a href="http://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%BB%D0%BB%D0%B0%D0%B9%D0%B4%D0%B5%D1%80">http://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%BB%D0%BB%D0%B0%D0%B9%D0%B4%D0%B5%D1%80</a> =>
<a href="http://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%BB%D0%BB%D0%B0%D0%B9%D0%B4%D0%B5%D1%80">http://ru.wikipedia.org/wiki/Коллайдер</a>) (<b><i>D-tox</i></b>)
<p/>При установке размера "истории поиска" в 0 (Настройки -> Для экспертов), текущая история поиска очищается
<p/>Исправлена ошибка версии 5.73: не рисовалась фоновая картинка, если выключен режим "растянуть" (thanks <b><i>AniNerbe</i></b>)
<p/>Исправлено: в Windows XP на панели кнопок в окне хаба и ЛС не было видно самую правую кнопку
<p/>Исправлено отображение темы хаба
<p/>Поправка положения окна выбора смайла, если выходит за края экрана

<ul><u><b>5.84</b></u> (13.06.2009)</ul>
<p/>Добавлен <a href="hotkeys.html">справочник горячих кнопок</a>
<p/>Вызов функций панели BB-кодов с клавиатуры (<i>Alt+B,I,U,...</i>)
<p/>BB-коды подчеркивания и перечёркивания не применяются к пробелам в тексте
<p/>По многочисленным просьбам панель BB-кодов сдвинута вправо
<p/>Панель BB-кодов в окне приватных сообщений
<p/>Добавлена кнопка "включить/выключить проверку орфографии"
<p/>Для portable-версий в настройках файлов звука можно указывать относительные пути (<i>.\Sounds\HubConnected.wav</i>),
такие пути всегда берутся относительно exe-файла программы. При выборе файла внутри папки с клиентом
в настройки запишется относительный путь
<p/>"Специальная шара хаба" доступна из контекстного меню вкладки хаба
<p/>Возможность использовать альфа-канал в стартовой заставке клиента.
Пока новый официальный логотип не готов, ищите эту возможность в других сборках (<b><i>Японец</i></b>)

<ul><u><b>5.83</b></u> (10.06.2009)</ul>
<p/>Улучшена синхронизация потоков хеширования. Максимальное количество используемых ядер увеличено до 8.
Переключение количества потоков хеширования не требует перезапуска программы.
Протестировано в Windows 2003, 2 x Intel XEON E5420. 8 ядер были загружены равномерно на 25%, скорость
хеширования составила 480 Мб/с (ограничена дисковой подсистемой)
<p/>Добавлена совместимость с WINE: в списке избранных хабов не работала сортировка
<p/>В список избранных хабов добавлены столбцы "кол-во пользователей", "суммарная шара" (только для подключенных хабов)
<p/>Новые значки для панели BB-кодов (thanks <b><i>AniNerbe</i></b>)

<ul><u><b>5.82</b></u> (8.06.2009)</ul>
<p/>Исправлена ошибка 5.81: вылет при публикации картинки в чате, если картинка не была ранее расшарена или прохеширована
<p/>Кнопка "Цвет" на панели BB-кодов
<p/>Нарисованы картинки для кнопок панели BB-кодов

<ul><u><b>5.81-x64</b></u> (8.06.2009)</ul>
<p/>Исправлен маловероятный креш в контекстном меню чата (<b><i>SerJo</i></b>)
<p/>Изменения в дизайне окна общего чата. Панель ввода BB-кодов.
<p/>Кнопка выбора картинки для публикации в чате (картинка расшаривается автоматически)
<p/><a href="lua.html">LUA-функция</a> <b>SetExtraSlot</b>
<p/>В данные пользователя добавлен "пол". Если заполнен, отображается значком в списке пользователей.
Настраивается, как и все прочие признаки пользователя, связанные со значками, цветами, эффектами.
Если настройки значков пользователя отличаются от стандартных, то изменений в настройке не произойдёт и, чтобы
увидеть пол в списке юзеров, нужно вручную выбрать значки

<ul><u><b>5.80</b></u> (3.06.2009)</ul>
<p/>Добавлена страница настроек "Совместимость", некоторые опции перекинуты на другие страницы настроек
<p/>Опции для WINE: "Некликабельный стиль ссылок", "Програмная эмуляция эффектов прозрачности", "Значок пользователя во втором столбце"

<ul><u><b>5.79</b></u> (1.06.2009)</ul>
<p/>Исправлен креш в WINE (<b><i>ZanKy</i></b>)
<p/>Устранены подлагивания клиента при большом количестве найденных источников в начале скачивания файла (thanks <b><i>Magnifico</i></b>)
<p/>Исправлена ошибка 5.76: возможные глюки при просмотре своего файл-листа
<p/>Исправлена ошибка - лишний пробел в тэге клиента (thanks <b><i>Corbina</i></b>)
<p/>Оптимизация - в некоторых случаях событие обновления параметров юзера передавалось компонентам программы 2 раза
<p/>События <a href="lua.html">lua-скрипта</a> <b>OnUserUpdated</b>, <b>OnUserDisconnected</b>
<p/>Копирование magnet-ссылок на каталоги из окна просмотра своей шары, опция "Открыть в проводнике" папку своей шары
<p/>Улучшено контекстное меню в браузере файл-листа: "Копировать" и "Открыть в проводнике" доступны в дереве каталогов
<p/>Мультиселект в окне публичных хабов (<b><i>Alessio</i></b>)

<ul><u><b>5.78</b></u> (24.05.2009)</ul>
<p/>LUA-интерпретатор вынесен в отдельную <b><a href="bin/lua.rar">dll</a></b>. Если не требуется запуск lua-скриптов, не устанавливайте этот пакет, чтобы сэкономить ресурсы процессора на передачу событий клиента в lua-интерпретатор.
<p/>Возможно подключение собственных расширений к LUA в виде DLL. <a href="bin/lua.rar">Мини-SDK</a> для создания расширений
<p/>В LUA SDK добавлены примеры:
<br/>- <b><a href="http://luaforge.net/projects/luasys/">luasys</a></b> - библиотека системных объектов: сокетов, потоков, объектов синхронизации
<br/>- Тестовая библиотека dcutil, содержит один метод <i>dcutil.loadlist(filename)</i> для загрузки файл-листа, распаковки из bz2, и преобразования
списка файлов из xml-формата в lua-таблицу
<p/>В <a href="lua.html">lua-функции</a> клиента добавлены DC():GetUsers(huburl) - список UID всех онлайн-юзеров указанного хаба и DC():GetList(uid, mode) - поставить файл-лист в очередь скачивания
<p/>В <a href="lua.html">lua-события</a> клиента добавлены PreviewPublicMessage(huburl, msg) / PreviewPrivateMessage(uid, msg). Пример использования - <a href="bin/scripts.rar">sample4.lua</a>
<p/>В <a href="lua.html">lua-события</a> клиента добавлены OnDownloadFinished(path, uid)
<p/>В <a href="lua.html">lua-функции</a> клиента добавлены SimPublicMessage(huburl, message) / SimPrivateMessage(uid, message)
<p/>Добавлены глобальные переменные <b>dc_huburl</b> и <b>dc_uid</b> для определения, из какого окна вызван скрипт. Переписан скрипт <a href="bin/scripts.rar">spam.lua</a> - больше не требуется указывать URL хаба в параметрах функции spam(timeout, message)
<p/>Исправлено: в 5.77 потерялось меню добавления комментария к TTH
<p/>Обновление <b>CustomLocations.ini</b> (прислал <b><i>Александр Греков</i></b>)

<ul><u><b>5.77</b></u> (17.05.2009)</ul>
<p/>Исправлен баг версии 5.16: вылет при скачивании большого количества файлов с нескольких источников
<p/>Исправлена ошибка 5.73: на некоторых хабах не работал игнор/отключение статусных сообщений пользователей
<p/>Исправлена ошибка в выдаче слотов на группу. В перерывах на запрос следующего фрагмента считается, что пользователь не качает из группы и другой
пользователь в это время получал слот из резерва группы. Но у первого пользователя слот оставался и ошибочно выдавалось больше слотов, чем
указано в настройках группы.
<p/>В "избранных папках скачивания" можно указать расширения файлов, которые будут скачиваться в папку по двойному клику.
Если файл подходит по расширению в папку из избранного, то вместо <b>Скачать</b> в меню появится <b>Скачать (mp3)</b>.
Если несколько файлов с разными расширениями могут быть рассортированы в избранные папки скачивания, появится <b>Скачать (...)</b>
<p/>Функционал пунктов меню скачивания выделен в базовый класс. Теперь в окне файл-листа такие же опции скачивания в разные папки, как и в окне поиска.
Также везде будут действовать полезные мелочи, ранее реализованные только в одном из меню (такие как скачивание с высоким приоритетом при удержании Shift в момент выбора "Скачать",
история выбора папок, скачивание в папку по нику или ip источника и т.п.)
<p/>Исправлено: не работало "скачать всю папку" при клике на файл в окне поиска
<p/>Меню "Окно" - "Упорядочить вкладки хабов" - по количеству пользователей / по количеству источников (<b><i>Phemmer</i></b>)

<ul><u><b>5.76</b></u> (11.05.2009)</ul>
<p/>Исправлено падение программы при входе на минихаб юзера с неполной поддержкой ADC - клиенты Apex до версии 1.0.0, FlyLink и т.п. (thanks <b><i>hmury</i></b>)
<p/>Доработана <a href="commands.html">команда</a> <b>/switch</b>. Состояние запоминается для
хаба, если он добавлен в избранные
<p/>Удалена опция "показывать меню проводника" в завершенных передачах. Меню проводника вызывается нажатием Shift + правая кнопка мыши, оно не дублирует
пункты стандартного меню списка завершенных передач
<p/>Быстрее открывается свой файл-лист (не делаются преобразования в XML, BZ2 и обратно)
<p/>В своём файл-листе добавлено меню проводника на файле, если он расшарен (не фейк-файл). Вызывается нажатием Shift + правая кнопка мыши.
<p/>Улучшен поиск дубликатов в своём файл-листе (путь к дубликату содержал первый файл в шаре с этим TTH и мог совпадать с самим файлом.
Сейчас путь к дубликату никогда не совпадает с путём к просматриваемому файлу)
В режиме поиска дубликатов столбец "Путь в шаре" заполнен только у дубликатов

<ul><u><b>5.75</b></u> (10.05.2009)</ul>
<p/>Исправлены вылеты при приёме некоторых сообщений от хаба (<b><i>Boromir333</i></b>)
<p/>Исправлена ошибка 5.73: на ADC-хабах не приходили ЛС
<p/>Исправлена ошибка: после загрузки любого файла по magnet-ссылке из чата он пытается отобразиться в чате как картинка (thanks <b><i>Diver</i></b>)
<p/>Опция "Уменьшать картинки в чате до 640 пикселей в ширину" (<b><i>Galantic</i></b>)
<p/>Исправлена сломанная в 5.73 опция авто-скачивания magnet-ссылок у избранных пользователей
<p/>Добавлен BB-код <b>[url=...]</b>text<b>[/url]</b> (<b><i>dima locman</i></b>)
<p/>Общая функциональность всех сервисов, принимающих входящие tcp-подключения, вынесена в один базовый класс
<p/>Минихаб, встроенный в клиент (передача файлов не работает, только чат).
Удобно для организации чат-комнат для нескольких пользователей и
приватных бесед, чтобы трафик не проходил через чужой хаб. Можно открыть
любой разумное количество минихабов. Создаётся из меню "Файл" или
<a href="commands.html">командой</a> <b>/hub</b> [<i>порт</i>].
Адрес созданного хаба можно скопировать из первой строки чата ("*** Соединение с adc://x.x.x.x:yyy"),
чтобы раздавать его как приглашание в чат-комнату

<ul><u><b>5.74</b></u> (9.05.2009)</ul>
<p/>Исправлена ошибка - вылет при получении системного сообщения от хаба
<p/>Опция отключения применения BB-кодов

<ul><u><b>5.73</b></u> (8.05.2009)</ul>
<p/>BB-коды для форматирования и раскраски сообщений в чате - [b], [i], [u], [s], [color=orange], [color=#408000] (<b><i>Lesh</i></b>)
<p/>Если пользователь публикует magnet в общем чате, то при скачке по ссылке он сразу добавляется в источники
<p/>Публикация картинок в общем чате</font> через BB-код [img]magnet...[/img]. На данный момент
поддерживаются только manget-ссылки (http планируется); форматы изображений BMP, JPG, GIF (последний только в greylink x86).
Картинка должна быть расшарена отправителем ссылки (<b><i>Lesh</i></b>)
<p/>Исправлено: не загружалась фоновая картинка, если в пути в ней были русские буквы
<p/>Ревизия механизмов передачи сообщений внутри клиента:
<br/>- Исправлена ошибка 5.72: "отключение чата" пропускало статус-сообщения
<br/>- Игнор пользователя действует и на его статус-сообщения
<br/>- Игнор в чате по RegEx не действует на свои сообщения (<b><i>Ukito</i></b>)
<br/>- Исправлена обработка <b>/me</b> на ADC-хабах
<br/>- Оптимизации
<p/>Начата работа по приоритетной очереди отдачи, как альтернативе "дополнительным слотам на группу файлов".
Временно, для тестирования движка приоритетов, выставлен приоритет отдаче клиентам <b>greylink</b>
новых версий (обновите версию, чтобы не стоять в очереди вместе с другими клиентами). Обоснование:
<b>greylink</b> имеет механизмы вознаграждения за отдачу (<i>слот тем, с кого качаю</i> и
<i>возмещение скачаного объема автослотом при высоком <b>ratio</b></i>), поэтому выдавать слоты
лучше именно этому типу клиента.

<ul><u><b>5.72</b></u> (2.05.2009)</ul>
<p/>Кнопка <i>"отменить закрытие окна"</i> (Ctrl+B), в настройках тулбара можно вынести эту кнопку на панель инструментов(<b><i>Ukito</i></b>)
<p/>Версия <a href="chatbot.html">ChatBot API</a> 5. Дополнительные флаги для команды SEND_DL_FILELIST (<b><i>yura_sys</i></b>)
<p/>Возможно, исправлено переподключение ICQ-бота
<p/>Глобальное включение/выключение всплывающих сообщений (можно вынести кнопку на панель инструментов)
<p/>Всплывающее сообщение при добавлении magnet-ссылки, если выключено подтверждение добавления
<p/>Всплывающее сообщение "Все закачки завершены" (<b><i>Phemmer</i></b>)
<p/>Опция <i>"Отключить главный чат"</i> работает на ADC-хабах
<p/>Опция <i>"Отключить главный чат"</i> блокирует отсылку в чат сообщений и результатов <a href="commands.html">команд</a> (<b>/pubstats</b>, <b>/uptime</b> и т.п.),
разрешая выполнять команды, не выдающие сообщения в чат (<b>/stats</b>, <b>/slots</b>, и т.п.)
<p/>Недокачанные файл-листы всегда имеют расширение <b>*.xml.bz2.dctmp</b>, это не позволяет открыть полускачанный файл-лист
<p/>В окне настроек запоминаются свёрнутые и развёрнутые разделы (<b><i>Setuper</i></b>)
<p/>Исправлен альфа-канал в контекстном меню назначения групп папкам шары
<p/>На хабах провайдера "Вебстрим Новосибирск" всегда используется подмена тэга (thanks <b><i>Сайли Купер</i></b>)

<ul><u><b>5.71-x64</b></u> (26.04.2009)</ul>
<p/>Команды <a href="icq.html">icq-бота</a> <b>-users</b>, <b>-friends</b>
<p/>Окно "Сетевая статистика" с разделением на полезный (файловый) и суммарный трафик
<p/><a href="bin/hunspell64.dll.rar">hunspell64.dll</a>
<p/>Исправлено: в Windows Vista не отображались флаги пользователей в чате
<p/>Исправлены креши в WINE

<ul><u><b>5.70</b></u> (19.04.2009)</ul>
<p/>Исправлен <i>"system uptime"</i> в <b>/stats</b> и <b>/uptime</b> (<b><i>Karumo</i></b>)
<p/>Настраивается список UIN-ов, с которыми общается ICQ-бот
<p/>Сообщения <i>"пришёл/ушёл друг"</i> передаются в icq-чат (<b><i>Ukito</i></b>)
<p/>Исправлена утечка памяти при загрузке файл-листа (greylink 5.65)
<p/>Оптимизированы вызовы библиотеки регулярных выражений
<p/>Ускорена загрузка <i>GeoIpCountryWhoIs.csv</i> при старте клиента
<p/>Исправлена ошибка в Socket: ожидание данных не проверяло отключение от сервера (thanks <b><i>Х Олег</i></b>)
<p/>Доработано хеширование: при наличии нескольких шар файлы хешируются только 1 раз
<p/>Исправлен глюк в окне обновления версии: нажатие ESC вызывало переход на Homepage
<p/>Удалены недокументированные опции записи/восстановления лога закачек из xml-файлов, можно загружать последние N строк
из базы данных, если включены логи передач

<ul><u><b>5.69</b></u> (19.04.2009)</ul>
<p/>Исправлено: при закрытии соединения icq-сервером бот зависал со 100% нагрузкой на CPU
<p/>Исправлены проблемы с приёмом сообщений от QIP 8092 (<b><i>GexOgen</i></b>)
<p/>Исправлено: ICQ бот не принимал unicode-сообщения (QIP Infinum)
<p/>Опция ICQ-бота "Посылать сообщения в unicode" - выключите для старых/упрощенных icq-клиентов
<p/>Исправлено: иногда исчезает подменю "копировать" в контекстном меню вкладки приватных сообщений (<b><i>SinFX</i></b>)
<p/>Исправлены вылеты на <a href="commands.html">команде</a> <b>/rebuild scan</b>
<p/>Улучшена эмуляция клиентов

<ul><u><b>5.68</b></u> (18.04.2009)</ul>
<p/>Кнопка "Анализ" в диалоге очистки БД (<a href="commands.html">команда</a> <b>/rebuild scan</b>) для
предварительной оценки размеров на диске различных структур данных
<p/>Встроенный ICQ-бот - теперь чат вашего любимого хаба доступен в любом месте (<a href="icq.html">подробнее</a>)
<p/>Исправлено: поиск на <u>world-art.ru</u> не работал с русскими буквами в запросах
<p/>На хабах *.olympus.ru автонастраивается тэг желаемого на этом хабе клиента (thanks <b><i>Blangel</i></b>)
<p/>Исправлено: не загружались словари проверки орфографии, если путь к клиенту содержал русские буквы (thanks <b><i>SinFX</i></b>)
<p/>Добавлен объединённый русско-английский словарь <a href="bin/ru_en_dic.rar">ru_en_dic.rar</a> (thanks <b><i>MultiTRON</i></b>)

<ul><u><b>5.67</b></u> (12.04.2009)</ul>
<p/>Любые настройки по умолчанию могут быть переопределены в ресурсе <i>DCPlusPlus</i>
для тонкой настройки своих версий без перезаписывания пользовательских настроек.
Но в сборку нельзя прошить Nick, CID и парольные данных - ключ шифрования ЛС,
включение/пароли вебсервера и т.п.
<p/>При первом старте (нет файла <i>Settings/DCPlusPlus.xml</i>), если в Windows
русский пользовательский интерфейс, автоматически подключается файл <i>Russian.xml</i>
<p/>
<p/>Модуль очистки базы данных:
<br/>- удаление хешей файлов, которых нет в шаре;
<br/>- удаление логов передач старше N дней;
<br/>- удаление отметок "этот файл скачивался" старше N дней;
<br/>- удаление пользовательских примечаний к файлам;
<br/>- удаление запомненных IP-адресов пользователей;
<br/>- удаление RATIO пользователей;
<br/>- удаление RATIO ip-адресов;
<br/>- удаление статистики загрузок файлов из шары;
<br/>- удаление логов смены ников/ip-адресов пользователей;
<br/>- подробный отчёт будет показан в отдельном окне.
<p/><a href="commands.html">Команда</a> <b>/key</b> - передача ключа шифрования ЛС с авто-занесением в свойства пользователя на принимающей стороне
<p/><a href="chatbot.html">API</a> <b>ChatBot.dll</b>: команды скачивания файл-листа и оповещения о завершении закачки: SEND_DL_FILELIST, SEND_DL_PING, RECV_DL_FINISHED (<b><i>yura_sys</i></b>)
<p/>Опция <i>"Запятая (вмето двоеточия) после имени при обращении в чате"</i>
<p/>Исправлен вылет при нажатии хоткея "послать ЛС" в окне ЛС (<b><i>Deft</i></b>, <b><i>averin</i></b>)
<p/>Исправлена ошибка: бан по тэгу (thanks <b><i>Lemon-san</i></b>)
<br/>Присылайте URL <i>злых</i> хабов и список допустимых на них клиентов, и <b>greylink</b> будет сам настраиваться под ограничения хаба

<ul><u><b>5.66</b></u> (4.04.2009)</ul>
<p/><font color="#A00000">Тестовая версия: плохо протестирована</font>
<p/>Исправлено: не работала команда /limit с параметрами

<ul><u><b>5.65</b></u> (4.04.2009)</ul>

<p/><font color="#A00000">Тестовая версия: плохо протестирована</font>
<p/>Новый, более оптимальный, формат базы данных. Будет сконвертирован в файл <b>gl2.db3</b> из файла <b>gl.db3</b>.
Конвертирование базы из формата версии до 4.72 больше не поддерживается (при переходе с версии ниже 4.72 запустите greylink 4.72-5.64)
<p/>Возможности новой базы данных:
<br>- отслеживание изменений в каталогах для пересчёта хешей каталога;
<br>- лог закачек и отдач (пока нет интерфейса для отображения записей; в следующих версиях возможно будут списки передач по хабу, tth, юзеру, ip-адресу; сейчас это можно посмотреть sql-запросами);
<br>- хранение очереди закачек в базе данных: быстрее старт клиента, меньше нагрузка при записи на диск изменений в очереди закачек (файл <i>Queue.xml</i> будет перемещён в базу данных и переименован в <i>Queue.xml.old</i>);
<br>- история ip-адресов ника или ников на ip-адресе (команда <a href="commands.html"><b>/iphistory</b></a> в чате);
<br>- опции очистки базы от неиспользуемых файлов/хешей - в будущих версиях.
<p/><a href="exclusive.html#dirlink">Альтернативный, более простой</a> механизм создания ссылок на каталоги. Пока не работает на виртуальных
(составленных объединением нескольких реальных) каталогах, шаре из загруженного файл-листа и фейк-шаре. (<b><i>SerJo</i></b>)
<p/>Переделаны/оптимизированы: хранение шары, поиск в шаре, хеширование. Фейк-шара не сохраняется в базу и работает значительно быстрее.
Ускорен запуск клиента при большой шаре. Исправлена ошибка, приводящая к чрезмерной загрузке процессора в некоторых редких конфигурациях.
<p/>Опция <i>"Отключить особенности клиента, которые могут привести к его детектированию"</i>, доступна при включении "подделки версии клиента".
Позволяет централизованно отключить все демаскирующие особенности (приём бан-сообщений в статус закачки, авто-бан всегда становится тихим - без посылки сообщения,
"информация о файле" не показывает данные AVI-файлов, в результаты поиска не отправляются комментарии и папки, найденные по хешу и т.п.)
<p/>Исправлена ошибка: потерялся значок передачи приватного файла (thanks <b><i>AniNerbe</i></b>)
<p/>Изменения в вызовах модуля проверки орфографии
<p/>Состояние готовности новой версии всегда можно посмотреть по <a href="roadmap.html">ссылке</a>
<p/>Составлен актуальный полный <a href="commands.html">список команд</a> в чате
<p/>Добавлена команда <b>/limit</b> <i>upload</i> <i>download</i>
<p/>Обновление <i>CustomLocation.ini</i> (thanks <b><i>Kevin</i></b>)

<ul><u><b>5.64</b></u> (06.03.2009)</ul>
<p/>Добавлена проверка орфографии (поддержка <a href="bin/ru_dic.rar">русского</a> или <a href="bin/en_dic.rar">английского</a> словаря). Нужно скачать и установить компонент OpenOffice <a href="bin/hunspell32.dll.rar">hunspell32.dll</a>

<ul><u><b>5.63</b></u> (04.03.2009)</ul>
<p/>Добавлена поддержка HTTP-серверов (сервис получения внешнего IP-адреса), использующих "Transfer-Encoding: chunked" - Apache/2.2.3 (CentOS)
<p/>В настройках закладок можно задать порядок следования закладок (стандартные настройки: хабы, ЛС, файл-листы, поиск, остальные).
Для отключения сортировки нужно всем типам закладок указать порядок сортировки 0.
<p/>В окне поиска в подменю "скачать в.." появились пункты <i>[папка_скачивания]\[ник_юзера]</i> и <i>[папка_скачивания]\[IP_юзера]</i> (<b><i>Логин</i></b>)
<p/>"Поиск альтернатив" в файл-листе становится активным, только если выбраны файлы и не выбраны папки (<b><i>SerJo</i></b>)
<p/>В логах скачивания/отдачи параметр <b>%[hubURL]</b> продублирован стандартным <b>%[userHL]</b> (<b><i>Kevin</i></b>)
<p/>Исправлен фон картинок некоторых кнопок - баг Windows Vista (thanks <b><i>AniNerbe</i></b>)
<p/>Если в окне перехвата magnet-ссылки отмечена опция "Сделать то же самое в следующий раз" (без открытия диалога),
то программа не разворачивается из трея при добавлении magnet-ссылки в поиск или закачку (<b><i>Inkobob</i></b>)

<ul><u><b>5.62</b></u> (11.02.2009)</ul>
<p/>Добавлена опция "<i>Передавать свои комментарии к tth другим <b>greylink</b>-клиентам (в результатах поиска)</i>". Изначально выключена
<p/>Исправлено: скачивание приватных файлов иногда посылало запросы на скачивание юзеру, написавшему последнее сообщение, а не опубликовавшему magnet-ссылку (<b><i>vapa</i></b>)
<p/>Исправлена ошибка 5.59: если файл не был хеширован ранее, принудительное хеширование, вызванное из диалога
"Магнет-ссылка на файл" или при передаче приватного файла, не получало обратно данные от хешера.
<p/>Один из видов редких вылетов получил объяснение и исправление (thanks <b><i>Deft</i></b>)
<p/>Исправлена вылет 5.60 при выполнении команды "/winamp"
<p/>Исправлена ошибка: на adc-хабах не работал поиск в пассивном режиме


<ul><b><a href="history_page3.html">Следующая страница &gt;&gt;&gt;</a></b></ul>

</BODY></HTML>
